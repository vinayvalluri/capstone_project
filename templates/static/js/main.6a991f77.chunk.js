(this.webpackJsonphtml=this.webpackJsonphtml||[]).push([[0],{12:function(e,t,i){},14:function(e,t,i){},16:function(e,t,i){"use strict";i.r(t);var c=i(1),a=i.n(c),s=i(7),r=i.n(s),n=(i(12),i(3)),o=i.n(n),d=i(4),m=i(2),l=i(6),u=(i(14),i(0));function h(){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(){var t,i,c,a,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{path:"/",data:{}},i=t.path,c=t.data,e.next=4,fetch("http://localhost:8080/"+i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:void 0,imageState:void 0,userState:void 0,compState:void 0},t=480,i=640,c=a.a.useRef(),s=a.a.useRef(),r=a.a.useState(!0),n=Object(m.a)(r,2),o=n[0],d=n[1],l=e.image,j=e.imageState,p=e.compState,b=e.userState;function g(){var e=s.current.getContext("2d");s.current.width=i,s.current.height=t,e.drawImage(c.current,0,0,i,t),c.current.pause(),j(s.current.toDataURL("image/png")),d(!1)}function v(){h({path:"validate",data:{image:l}}).then((function(e){return e.json()})).then((function(e){e.user?(j(e.roi),b(e.user),p("dashboard")):(j(e.roi),p("newuser"))}))}return a.a.useEffect((function(){o&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){c.current.srcObject=e,c.current.play(),window.video=c.current})).catch((function(e){console.log(e)}))})),Object(u.jsxs)("div",{className:"cam",children:[o?Object(u.jsxs)("div",{className:"camera",children:[Object(u.jsx)("div",{className:"title",children:"Look At The Camera"}),Object(u.jsx)("video",{muted:!0,ref:c,children:" Stream Will Start "}),Object(u.jsx)("button",{onClick:g,children:" Take Photo "})]}):Object(u.jsxs)("div",{className:"image",children:[Object(u.jsx)("div",{className:"title"}),Object(u.jsx)("img",{src:l,alt:"Hello"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:v,children:" Validate "}),"\xa0\xa0\xa0",Object(u.jsx)("button",{onClick:function(e){j(void 0),d(!0)},children:" New "})]})]}),Object(u.jsx)("canvas",{ref:s})]})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{name:void 0,phone:void 0,email:void 0,history:[{date:"1/1/21",id:"1290",orders:[{name:"burger",price:"10$"}]}]},image:void 0,compState:void 0,userState:void 0,imageState:void 0},t=e.user,i=e.userState,c=e.compState,s=e.image,r=e.imageState,n=a.a.useState({}),o=Object(m.a)(n,2),l=o[0],j=o[1],p=a.a.useState(!1),b=Object(m.a)(p,2),g=b[0],v=b[1],O=[{name:"Burger",price:10,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger M",price:20,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger L",price:30,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger",price:10,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger M",price:20,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger L",price:30,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger",price:10,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger M",price:20,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger L",price:30,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger",price:10,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger M",price:20,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger L",price:30,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger",price:10,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger M",price:20,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"},{name:"Burger L",price:30,image:"https://media.istockphoto.com/photos/fresh-burger-isolated-picture-id1125149183"}];function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"Burger",price:10};l[e.name]?l[e.name].count++:l[e.name]=Object(d.a)(Object(d.a)({},e),{},{count:1}),j(Object(d.a)({},l))}function f(){c("camera"),i(void 0),r(void 0),v(!1)}function N(){h({path:"order",data:{user:t,cart:l}}).then((function(e){return e.json()})).then((function(e){v(e.id.toString())}))}return g?Object(u.jsxs)("div",{className:"order-id",children:[Object(u.jsx)("div",{children:"Your order id is"}),Object(u.jsx)("div",{children:g}),Object(u.jsx)("button",{onClick:f,children:"New Order"})]}):Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsxs)("div",{className:"user",children:[Object(u.jsx)("div",{className:"photo",children:Object(u.jsx)("img",{alt:"user.png",src:s})}),Object(u.jsx)("div",{className:"info",children:["name","phone","email"].map((function(e,i){return Object(u.jsxs)("div",{className:"prop",children:[Object(u.jsx)("div",{className:"key",children:e}),Object(u.jsx)("div",{className:"val",children:t[e]})]},i)}))})]}),Object(u.jsxs)("div",{className:"new-order",children:[Object(u.jsx)("div",{className:"title",children:"New Order"}),Object(u.jsx)("div",{className:"itemscontainer",children:Object(u.jsx)("div",{className:"items",children:O.map((function(e,t){return Object(u.jsxs)("div",{className:"item",onClick:function(t){return x(e)},children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:e.image})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"name",children:e.name}),Object(u.jsxs)("div",{className:"price",children:[e.price," $"]})]})]},t)}))})}),Object(u.jsx)("div",{className:"itemscontainer",children:Object(u.jsx)("div",{className:"items cart",children:Object.keys(l).map((function(e,t){return e=l[e],Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:e.image})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"name",children:e.count}),Object(u.jsxs)("div",{className:"price",children:[e.count*e.price," $"]})]})]},t)}))})}),Object(u.jsxs)("div",{className:"order-btns",children:[Object(u.jsx)("div",{className:"btn",onClick:N,children:"Order"}),Object(u.jsx)("div",{className:"btn",onClick:f,children:"Cancel"})]})]}),Object(u.jsxs)("div",{className:"history",children:[Object(u.jsx)("div",{className:"title",children:"History"}),Object(u.jsx)("div",{className:"data",children:t.history.map((function(e,t){return Object(u.jsxs)("div",{className:"record",children:[Object(u.jsxs)("div",{className:"date",children:["Date : ",e.date," | Id : ",e.id]}),Object(u.jsxs)("div",{className:"orders",children:[Object(u.jsxs)("div",{className:"order",children:[Object(u.jsx)("div",{className:"name",children:"Name"}),Object(u.jsx)("div",{className:"price",children:"Price"})]}),e.orders.map((function(e,t){return Object(u.jsxs)("div",{className:"order",children:[Object(u.jsx)("div",{className:"name",children:e.name}),Object(u.jsxs)("div",{className:"price",children:[e.price*e.count," $"]})]},t)}))]})]},t)}))})]})]})},g=function(e){var t=a.a.useState({name:"Username",phone:"User Phone Number",email:"Email"}),i=Object(m.a)(t,2),c=i[0],s=i[1],r=e.image,n=e.userState,o=e.imageState,l=e.compState;return Object(u.jsxs)("div",{className:"new-user",children:[Object(u.jsx)("div",{className:"photo",children:Object(u.jsx)("img",{src:r,alt:"user.png"})}),Object(u.jsxs)("div",{className:"form",children:[Object.keys(c).map((function(e,t){return Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("div",{className:"name",children:e}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{defaultValue:c[e],onChange:function(t){c[e]=t.target.value,s(Object(d.a)({},c))}})})]},t)})),Object(u.jsx)("button",{onClick:function(){h({path:"newuser",data:{user:c,photo:r}}).then((function(e){return e.json()})).then((function(e){n(e.user),l("dashboard")}))},children:"Add"}),Object(u.jsx)("button",{onClick:function(){n({}),o(void 0),l("camera")},children:"Cancel"})]})]})},v=function(e){var t=a.a.useState(void 0),i=Object(m.a)(t,2),c=i[0],s=i[1],r=a.a.useState({name:void 0,phone:void 0,email:void 0}),n=Object(m.a)(r,2),o=n[0],d=n[1],l=a.a.useState("camera"),h=Object(m.a)(l,2),j=h[0],v=h[1];switch(j){case"camera":return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(p,{image:c,imageState:s,compState:v,userState:d})});case"dashboard":return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(b,{image:c,user:o,userState:d,imageState:s,compState:v})});case"newuser":return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(g,{image:c,imageState:s,compState:v,userState:d})});default:return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(p,{image:c,imageState:s,compState:v})})}},O=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),O()}},[[16,1,2]]]);
//# sourceMappingURL=main.6a991f77.chunk.js.map